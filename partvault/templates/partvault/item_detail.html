{% extends "partvault/base.html" %}

{% block content %}
<div class="d-flex align-items-center justify-content-between mb-3">
    <div>
        <h1 class="h3 mb-1">{{ item.asset_tag }}</h1>
        <p class="text-muted mb-0">{{ item.name }}</p>
    </div>
    <div class="d-flex align-items-center gap-2">
        {% if request.user.is_authenticated %}
            <a class="btn btn-sm btn-primary" href="{% url 'item_create' %}">New item</a>
        {% endif %}
        {% if request.user.is_authenticated and request.user == item.collection.owner %}
            <a class="btn btn-sm btn-outline-primary" href="{% url 'item_edit' item.id %}">Edit</a>
        {% endif %}
        <span class="badge bg-info text-dark">{{ item.status|default:"Unknown" }}</span>
    </div>
</div>
<div class="card">
    <div class="card-header">Item details</div>
    <ul class="list-group list-group-flush">
        <li class="list-group-item d-flex justify-content-between">
            <span class="text-muted">ID</span>
            <span>{{ item.id }}</span>
        </li>
        <li class="list-group-item d-flex justify-content-between">
            <span class="text-muted">Collection</span>
            <span>{{ item.collection }}</span>
        </li>
        <li class="list-group-item d-flex justify-content-between">
            <span class="text-muted">Category</span>
            <span>{{ item.category|default:"-" }}</span>
        </li>
        <li class="list-group-item d-flex justify-content-between">
            <span class="text-muted">Manufacturer</span>
            <span>{{ item.manufacturer|default:"-" }}</span>
        </li>
        <li class="list-group-item d-flex justify-content-between">
            <span class="text-muted">Model</span>
            <span>{{ item.model|default:"-" }}</span>
        </li>
        <li class="list-group-item d-flex justify-content-between">
            <span class="text-muted">Revision</span>
            <span>{{ item.revision|default:"-" }}</span>
        </li>
        <li class="list-group-item d-flex justify-content-between">
            <span class="text-muted">Serial</span>
            <span>{{ item.serial|default:"-" }}</span>
        </li>
        <li class="list-group-item d-flex justify-content-between">
            <span class="text-muted">Parent item</span>
            <span>{{ item.parent_item|default:"-" }}</span>
        </li>
        <li class="list-group-item">
            <span class="text-muted d-block mb-2">Tags</span>
            {% for tag in item.tags.all %}
                <span class="badge bg-secondary me-1">{{ tag }}</span>
            {% empty %}
                <span class="text-muted">-</span>
            {% endfor %}
        </li>
        <li class="list-group-item">
            <span class="text-muted d-block mb-2">Notes</span>
            <span>{{ item.notes|default:"-" }}</span>
        </li>
        <li class="list-group-item d-flex justify-content-between">
            <span class="text-muted">Acquired at</span>
            <span>{{ item.acquired_on|default:"-" }}</span>
        </li>
        <li class="list-group-item d-flex justify-content-between">
            <span class="text-muted">Last tested at</span>
            <span>{{ item.last_tested_on|default:"-" }}</span>
        </li>
        <li class="list-group-item d-flex justify-content-between">
            <span class="text-muted">Created at</span>
            <span>{{ item.created_at }}</span>
        </li>
        <li class="list-group-item d-flex justify-content-between">
            <span class="text-muted">Updated at</span>
            <span>{{ item.updated_at }}</span>
        </li>
    </ul>
</div>
{% endblock %}
